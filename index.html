<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文件水印工具</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>文件水印工具</h1>
            <p class="subtitle">支持图片和 PDF 文件添加水印</p>
        </header>

        <main class="main-content initial-state">
            <!-- 区域1: 文件上传区域 -->
            <section class="upload-section" id="uploadSection">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                    </div>
                    <h3>点击或拖拽文件到此处</h3>
                    <p>支持 JPG、PNG、PDF 格式，最大 10MB</p>
                    <input type="file" id="fileInput" accept="image/*,.pdf" hidden>
                    <button class="btn-primary" id="uploadBtn">选择文件</button>
                </div>
                <div class="file-info" id="fileInfo" style="display: none;">
                    <div class="file-preview" id="filePreview"></div>
                    <div class="file-details">
                        <p class="file-name" id="fileName"></p>
                        <p class="file-size" id="fileSize"></p>
                        <div class="file-actions">
                            <button class="btn-secondary" id="changeFileBtn">更换文件</button>
                            <button class="btn-danger" id="clearFileBtn">重置</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 区域2: 水印设置区域 (初始隐藏) -->
            <section class="settings-section" id="settingsSection" style="display: none;">
                <h2 class="section-title">水印设置</h2>

                <!-- 水印类型Tab -->
                <div class="tabs">
                    <button class="tab-btn active" data-tab="text">文字水印</button>
                    <button class="tab-btn" data-tab="image">图片水印</button>
                    <button class="tab-btn" data-tab="logo">Logo 水印</button>
                </div>

                <!-- 水印内容设置 -->
                <div class="tab-content">
                    <!-- 文字水印设置 -->
                    <div class="tab-panel active" id="textPanel">
                        <div class="form-group">
                            <label for="watermarkText">水印文字</label>
                            <input type="text" id="watermarkText" data-default-text="水印文字" placeholder="请输入水印文字" class="input-field">
                        </div>
                        <div class="form-group">
                            <label for="fontSize">字体大小</label>
                            <div class="slider-group">
                                <input type="range" id="fontSize" min="12" max="72" value="24" class="slider">
                                <input type="number" id="fontSizeValue" min="12" max="72" value="24" class="input-number">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="fontColor">字体颜色</label>
                            <input type="color" id="fontColor" value="#000000" class="color-picker">
                        </div>
                    </div>

                    <!-- 图片水印设置 -->
                    <div class="tab-panel" id="imagePanel">
                        <div class="form-group">
                            <label for="watermarkImage">水印图片</label>
                            <input type="file" id="watermarkImage" accept="image/*" class="input-field">
                            <div class="image-preview" id="imagePreview"></div>
                        </div>
                        <div class="form-group">
                            <label for="imageSize">图片大小</label>
                            <div class="slider-group">
                                <input type="range" id="imageSize" min="50" max="500" value="200" class="slider">
                                <input type="number" id="imageSizeValue" min="50" max="500" value="200" class="input-number">
                            </div>
                        </div>
                    </div>

                    <!-- Logo 水印设置 -->
                    <div class="tab-panel" id="logoPanel">
                        <div class="form-group">
                            <label for="logoImage">Logo 图片</label>
                            <input type="file" id="logoImage" accept="image/*" class="input-field">
                            <div class="image-preview" id="logoPreview"></div>
                        </div>
                        <div class="form-group">
                            <label for="logoSize">Logo 大小</label>
                            <div class="slider-group">
                                <input type="range" id="logoSize" min="30" max="300" value="100" class="slider">
                                <input type="number" id="logoSizeValue" min="30" max="300" value="100" class="input-number">
                            </div>
                        </div>
                    </div>

                    <!-- 平铺样式选择 -->
                    <div class="form-group">
                        <label>水印样式</label>
                        <div class="style-options">
                            <button class="style-btn active" data-style="full">
                                <div class="style-icon full"></div>
                                <span>整张</span>
                            </button>
                            <button class="style-btn" data-style="top">
                                <div class="style-icon top"></div>
                                <span>上半部分</span>
                            </button>
                            <button class="style-btn" data-style="bottom">
                                <div class="style-icon bottom"></div>
                                <span>下半部分</span>
                            </button>
                            <button class="style-btn" data-style="left">
                                <div class="style-icon left"></div>
                                <span>左半部分</span>
                            </button>
                            <button class="style-btn" data-style="right">
                                <div class="style-icon right"></div>
                                <span>右半部分</span>
                            </button>
                            <button class="style-btn" data-style="single">
                                <div class="style-icon single"></div>
                                <span>单个水印</span>
                            </button>
                        </div>
                    </div>

                    <!-- 单个水印位置选择（当选择单个水印时显示） -->
                    <div class="form-group position-selector" id="positionSelector" style="display: none;">
                        <label>水印位置</label>
                        <div class="position-grid">
                            <button class="position-btn" data-position="top-left">左上</button>
                            <button class="position-btn" data-position="top-center">上中</button>
                            <button class="position-btn" data-position="top-right">右上</button>
                            <button class="position-btn" data-position="center-left">左中</button>
                            <button class="position-btn active" data-position="center">居中</button>
                            <button class="position-btn" data-position="center-right">右中</button>
                            <button class="position-btn" data-position="bottom-left">左下</button>
                            <button class="position-btn" data-position="bottom-center">下中</button>
                            <button class="position-btn" data-position="bottom-right">右下</button>
                        </div>
                    </div>

                    <!-- 水印间距 -->
                    <div class="form-group">
                        <label for="spacing">水印间距</label>
                        <div class="slider-group">
                            <input type="range" id="spacing" min="0" max="200" value="20" class="slider">
                            <input type="number" id="spacingValue" min="0" max="200" value="20" class="input-number">
                        </div>
                    </div>

                    <!-- 水印透明度 -->
                    <div class="form-group">
                        <label for="opacity">水印透明度</label>
                        <div class="slider-group">
                            <input type="range" id="opacity" min="0" max="100" value="50" class="slider">
                            <input type="number" id="opacityValue" min="0" max="100" value="50" class="input-number">
                        </div>
                    </div>

                    <!-- 水印旋转角度 -->
                    <div class="form-group">
                        <label for="rotation">旋转角度</label>
                        <div class="slider-group">
                            <input type="range" id="rotation" min="-180" max="180" value="-45" class="slider">
                            <input type="number" id="rotationValue" min="-180" max="180" value="-45" class="input-number">
                        </div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="action-buttons">
                    <button class="btn-primary" id="applyBtn">应用水印</button>
                    <button class="btn-secondary" id="resetBtn">重置设置</button>
                </div>
            </section>

            <!-- 区域3: 预览区域 (初始隐藏) -->
            <section class="preview-section" id="previewSection" style="display: none;">
                <h2 class="section-title">预览</h2>
                <div class="preview-container">
                    <canvas id="previewCanvas"></canvas>
                </div>
                <div class="download-section">
                    <button class="btn-success" id="downloadBtn">下载文件</button>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>&copy; 2025 文件水印工具</p>
        </footer>
    </div>

    <script src="js/main.js"></script>
</body>
</html>




